<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Submit Trade to Google Sheet</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 20px; }
    form { max-width: 500px; margin: auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    label { display: block; margin-top: 15px; font-weight: bold; }
    input, select, button {
      width: 100%; padding: 10px; margin-top: 5px;
      border-radius: 4px; border: 1px solid #ccc;
    }
    button {
      background-color: #2ecc71; color: white; font-weight: bold;
      border: none; cursor: pointer; margin-top: 20px;
    }
    button:hover {
      background-color: #27ae60;
    }
    .message {
      margin-top: 20px;
      text-align: center;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <form id="tradeForm" action="https://script.google.com/macros/s/AKfycbyL-Q3VRlWjyCw8cn96gmNZocq26Du12KKsAUvWVipONIct-DIPwxxwmZpruZgIFw_z/exec" method="POST" target="hidden_iframe" onsubmit="showMessage()">
    <h2>Submit Trade Data</h2>

    <label for="pair">Currency Pair</label>
    <input type="text" name="pair" id="pair" required>

    <label for="lotSize">Lot Size</label>
    <input type="number" step="0.01" name="lotSize" id="lotSize" required>

    <label for="entryPrice">Entry Price</label>
    <input type="number" step="0.00001" name="entryPrice" id="entryPrice" required>

    <label for="stopLossPrice">Stop Loss</label>
    <input type="number" step="0.00001" name="stopLossPrice" id="stopLossPrice" required>

    <label for="takeProfitPrice">Take Profit</label>
    <input type="number" step="0.00001" name="takeProfitPrice" id="takeProfitPrice">

    <label for="tradeType">Trade Type</label>
    <select name="tradeType" id="tradeType">
      <option value="buy">Buy</option>
      <option value="sell">Sell</option>
    </select>

    <button type="submit">Submit</button>
    <div class="message" id="confirmationMessage"></div>
  </form>

  <!-- Hidden iframe to prevent redirect -->
  <iframe name="hidden_iframe" style="display:none;" onload="formSubmitted()"></iframe>

  <script>
    let submitted = false;

    function showMessage() {
      submitted = true;
      document.getElementById('confirmationMessage').textContent = "Submitting...";
    }

    function formSubmitted() {
      if (submitted) {
        document.getElementById('confirmationMessage').textContent = "âœ… Form submitted successfully!";
        document.getElementById("tradeForm").reset();
        submitted = false;
      }
    }
  </script>

</body>
</html>
